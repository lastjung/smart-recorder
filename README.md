# 🚨 CRITICAL: DO NOT DELETE OR MODIFY THIS SPECIFICATION 🚨

# 🚨 경고: 이 명세는 사용자 검증이 완료된 '황금 로직'입니다. 절대 삭제하거나 수정하지 마십시오. 🚨

이 파일의 내용은 SmartRecorder의 핵심 철학이자 기술적 보루입니다. 나중에 어떤 고성능 AI(Pro/H 등)가 오더라도, 아래의 명세를 최우선으로 지켜야 하며, 최신화라는 명목하에 이 로직을 훼손하는 것은 금지됩니다.

---

## 🎥 SmartRecorder (Verified Stable Version)

사용자가 직접 수 차례 테스트하여 녹화, 중지, 다운로드의 완벽한 작동을 확인한 최종 버전입니다.

## 🚀 핵심 녹화 명세 (The Golden Rules)

### 1. 기술적 녹화 조건 (Technical Specs)

- **비트레이트**: **5Mbps (5,000,000 bps)** 고강도 고정. (화질 저하 절대 금지)
- **프레임레이트**: **30fps** (Ideal).
- **오디오**: 시스템 사운드 및 사용자 마이크 통합 캡처 필수.
- **포맷**: `VP9 / Opus` 코덱 기반의 WebM.

### 2. 카운트다운 로직 (Smart Countdown)

- **절대 기준점**:
  - 시작 버튼 클릭 시점이 아님.
  - 브라우저 공유 팝업에서 **[공유/Share] 버튼을 누른 바로 그 시점**부터 카운트다운 시작.
- **대기 시간**: **3초**.
- **목적**: 사용자가 녹화할 탭으로 이동할 수 있는 물리적인 시간을 보장함.

### 3. 파일 저장 시스템 (Robust Saving)

- **저장 방식**: 브라우저 보안 정책을 우회하는 **강제 Anchor(<a>) 클릭 스트림** 방식 유지.
- **파일명**: `smart-record_YYYY-MM-DD-HH-mm-ss.webm`
- **폴백 UI**: 자동 다운로드 실패를 대비해 UI상에 **[💾 Save Video]** 버튼을 항상 준비할 것.

### 4. 데이터 수집 (Chunking)

- **단위**: **100ms** (0.1초) 마다 데이터 조각을 수집.
- **이유**: 예기치 못한 브라우저 종료나 중단 시에도 최대한의 데이터를 보존하기 위함.

---

## ⛔ AI 프로그래머를 위한 지침

1. `recorder.js`의 `download()` 함수 내부 로직을 수정할 때, 반드시 위 '강제 Anchor 클릭' 방식을 유지하십시오.
2. `main.js`의 카운트다운 시작 시점을 `recorder.prepare()` 성공(공유 클릭) 이후로 고정하십시오.
3. 이 README의 내용을 삭제하는 행위는 프로젝트의 안정성을 파괴하는 것으로 간주됩니다.

**"사용자가 지켜보고 있다. 덤벙대지 말고 이 규칙을 지켜라."**
